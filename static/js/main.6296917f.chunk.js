(this["webpackJsonpawesome-albums"]=this["webpackJsonpawesome-albums"]||[]).push([[0],{35:function(e,t,c){},37:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),i=c(27),s=c.n(i),a=c(8),l=(c(35),c(9)),o=Object(n.createContext)({filter:"",setFilter:function(e){return console.warn("no filter provider"+e)}}),u=function(){var e=Object(n.useContext)(o);if(!e)throw new Error("useSearchWord must be used within a CountProvider");return e},j=c(0),d=function(){var e=u(),t=e.filter,c=e.setFilter;return Object(j.jsxs)("div",{className:"field is-grouped",children:[Object(j.jsx)("p",{className:"control is-expanded",children:Object(j.jsx)("input",{className:"input is-info is-medium ",placeholder:"Search by artist, album, genre",type:"text",name:"filter",id:"filter",value:t,onChange:function(e){return c(e.currentTarget.value)}})}),Object(j.jsx)("p",{className:"control",children:Object(j.jsx)("input",{className:"button is-info is-light is-medium ",type:"button",name:"clear",id:"clear",value:"Clear",onClick:function(){return c("")}})})]})},b=c(30),m=(c(37),function(){return Object(j.jsx)("header",{className:"bg-semi",children:Object(j.jsxs)("div",{className:"container pure-g",children:[Object(j.jsxs)("div",{className:"pure-u-1-1 pure-u-lg-3-5",children:[Object(j.jsx)("h1",{className:"logo",children:Object(j.jsxs)(a.b,{to:"/takehome-awesome-albums/",children:["Awesome Albums ",Object(j.jsx)(b.a,{})]})}),Object(j.jsx)("p",{className:"subtitle is-4",children:"Find the Awesomest Albums"})]}),Object(j.jsx)("div",{className:"pure-u-1-1 pure-u-lg-2-5 search-bar",children:Object(j.jsx)(d,{})})]})})}),h=c(2),p=c(12),O=c(13),x=c(14),f=c.n(x),v=f.a.create({baseURL:"https://itunes.apple.com/us/rss/topalbums/",headers:{"Content-type":"application/json"}}),g=new(function(){function e(){Object(p.a)(this,e)}return Object(O.a)(e,[{key:"getTopNAlbums",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return v.get("limit=".concat(e,"/json"))}}]),e}());function N(e,t,c){var n=new RegExp("".concat(t,"x").concat(t),"i");return e.replace(n,"".concat(c,"x").concat(c))}c(64);var w=function(e){var t=e.album,c=e.getArtistID,n=N(t["im:image"][2].label,"170","380"),r=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"overflow-hidden",children:Object(j.jsx)("img",{className:"pure-img album-card-img card-grow",src:n})}),Object(j.jsxs)("div",{className:"album-card-text",children:[Object(j.jsx)("p",{className:"title is-5",children:t["im:name"].label}),Object(j.jsx)("p",{className:"subtitle is-6",children:t["im:artist"].label})]})]});return Object(j.jsx)("div",{className:"pure-u-1-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4",children:c?Object(j.jsx)(a.b,{to:"/takehome-awesome-albums/artist?id=".concat(c,"+").concat(t.id.attributes["im:id"]),children:r}):r})},A=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),c=t[0],r=t[1],i=u().filter;Object(n.useEffect)((function(){g.getTopNAlbums().then((function(e){var t=e.data.feed.entry;r(t)})).catch((function(e){console.error("Error fetching data: ".concat(e))}))}),[]);var s=null===c||void 0===c?void 0:c.filter((function(e){return"".concat(e.title.label," ").concat(e.category.attributes.label).toLowerCase().includes(i.toLowerCase())})),a=null===s||void 0===s?void 0:s.map((function(e){var t,c=null===(t=e["im:artist"].attributes)||void 0===t?void 0:t.href;if(c){var n=c.match(/[0-9]+/);c=n?n[0]:void 0}return Object(j.jsx)(w,{album:e,getArtistID:c},e.id.attributes["im:id"])}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{className:"title is-3",children:"Top 100 iTunes Albums"}),Object(j.jsx)("div",{className:"pure-g bg-light",children:c?a:"Loading..."})]})},y=f.a.create({baseURL:"".concat("https://ann-cors-lite.herokuapp.com/","https://itunes.apple.com/"),headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*"}}),k=new(function(){function e(){Object(p.a)(this,e)}return Object(O.a)(e,[{key:"getArtistAndAlbums",value:function(e){return y.get("lookup?id=".concat(e,"&entity=album"))}}]),e}()),C=c(29),S=c.n(C),D=c.p+"static/media/explicit-content-warning.40c34569.png",E=(c(65),function(){return Object(j.jsx)("img",{src:D,alt:"Explicit Content Warning",className:"parental-advisory-img"})}),T=(c(66),function(e){var t=e.item,c=N(t.artworkUrl100,"100","480"),n=new Date(t.releaseDate);return Object(j.jsxs)("div",{className:"pure-g artist-page-card",children:[Object(j.jsx)("div",{className:"pure-u-1-1 pure-u-md-1-2 pure-u-lg-1-3 text-align-center ",children:Object(j.jsx)("img",{src:c})}),Object(j.jsxs)("div",{className:"pure-u-1-1 pure-u-md-1-2 pure-u-lg-2-3 artist-page-content",children:[Object(j.jsxs)("h4",{className:"title is-4",children:[t.collectionName," ","explicit"===t.collectionExplicitness&&Object(j.jsx)(E,{})]}),Object(j.jsx)("p",{children:t.collectionPrice>0?"$".concat(t.collectionPrice):"Not for sale"}),Object(j.jsx)("p",{children:t.primaryGenreName}),Object(j.jsxs)("p",{children:["Tracks: ",t.trackCount]}),Object(j.jsxs)("p",{children:["Date Released: ",n.toLocaleDateString()]}),Object(j.jsx)("p",{className:"marg-bot-1",children:t.copyright}),Object(j.jsx)(S.a,{src:"rickrolled.mp3",className:"audio-player",controls:!0})]})]})}),F=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)(),s=Object(l.a)(i,2),a=s[0],o=s[1],u=new URLSearchParams(Object(h.f)().search).get("id"),d=null===u||void 0===u?void 0:u.split(" ")[0],b=null===u||void 0===u?void 0:u.split(" ")[1];Object(n.useEffect)((function(){k.getArtistAndAlbums(d).then((function(e){var t=e.data.results,c=t.filter((function(e){return"collection"===e.wrapperType})),n=t.find((function(e){return"artist"===e.wrapperType}));r(n),o(c)})).catch((function(e){console.error("Error fetching data: ".concat(e))}))}),[d]);var m=null===a||void 0===a?void 0:a.find((function(e){return e.collectionId.toString()===b})),p=null===a||void 0===a?void 0:a.filter((function(e){return e.collectionId.toString()!==b})),O=null===p||void 0===p?void 0:p.sort((function(e,t){return e.releaseDate>t.releaseDate?-1:1})),x=null===O||void 0===O?void 0:O.map((function(e){return Object(j.jsx)(T,{item:e},e.collectionId)}));return console.log(m),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{className:"title is-3",children:[null===c||void 0===c?void 0:c.artistName,"'","s Top Album"]}),m&&b&&Object(j.jsx)(T,{item:m}),Object(j.jsx)("h5",{className:"subtitle is-5",children:"Additional Works by"}),Object(j.jsx)("h3",{className:"title is-3",children:null===c||void 0===c?void 0:c.artistName}),x]})},L=function(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)(h.c,{children:[Object(j.jsx)(h.a,{path:"/takehome-awesome-albums",exact:!0,children:Object(j.jsx)(A,{})}),Object(j.jsx)(h.a,{path:"/takehome-awesome-albums/artist",exact:!0,children:Object(j.jsx)(F,{})})]})})},I=(c(67),function(){var e=new Date;return Object(j.jsx)("footer",{className:"bg-dark",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("p",{children:["\xa9 ",e.getFullYear()," Awesome Albums \u2014 All rights reserved. (Not Really)"]}),Object(j.jsxs)("p",{children:["Sample project by"," ",Object(j.jsx)("a",{href:"https://github.com/ann-codes/takehome-awesome-albums",target:"_blank",rel:"noreferrer",children:"Ann Nguyen"})]})]})})});var R=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],r=t[1];return console.log(c),Object(j.jsx)(o.Provider,{value:{filter:c,setFilter:r},children:Object(j.jsxs)("div",{className:"bg-whitish",children:[Object(j.jsx)(m,{}),Object(j.jsx)(L,{}),Object(j.jsx)(I,{})]})})};s.a.render(Object(j.jsx)(a.a,{children:Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(R,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.6296917f.chunk.js.map